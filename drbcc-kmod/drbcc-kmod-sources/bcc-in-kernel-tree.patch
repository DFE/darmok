From 5213012135d96474c2b18f9bb75685da11022c70 Mon Sep 17 00:00:00 2001
From: Christina Quast <chrysh.ng+github@gmail.com>
Date: Mon, 26 Nov 2012 22:01:31 +0100
Subject: [PATCH] Darmok: menu config and Makefile entries

Signed-off-by: Christina Quast <chrysh.ng+github@gmail.com>
---
 drivers/Kconfig        |    2 ++
 drivers/Makefile       |    1 +
 drivers/darmok/Kconfig |   25 +++++++++++++++++++++++++
 3 files changed, 28 insertions(+)
 create mode 100644 drivers/darmok/Kconfig

diff --git a/drivers/Kconfig b/drivers/Kconfig
index 72b9c51..b896c39 100644
--- a/drivers/Kconfig
+++ b/drivers/Kconfig
@@ -98,6 +98,8 @@ source "drivers/edac/Kconfig"
 
 source "drivers/rtc/Kconfig"
 
+source "drivers/darmok/Kconfig"
+
 source "drivers/dma/Kconfig"
 
 source "drivers/dca/Kconfig"
diff --git a/drivers/Makefile b/drivers/Makefile
index bbaca5c..98d40ef 100644
--- a/drivers/Makefile
+++ b/drivers/Makefile
@@ -74,6 +74,7 @@ obj-$(CONFIG_GAMEPORT)		+= input/gameport/
 obj-$(CONFIG_INPUT)		+= input/
 obj-$(CONFIG_I2O)		+= message/
 obj-$(CONFIG_RTC_LIB)		+= rtc/
+obj-$(CONFIG_DARMOK_CORE)	+= darmok/
 obj-y				+= i2c/ media/
 obj-$(CONFIG_PPS)		+= pps/
 obj-$(CONFIG_PTP_1588_CLOCK)	+= ptp/
diff --git a/drivers/darmok/Kconfig b/drivers/darmok/Kconfig
new file mode 100644
index 0000000..0e64189
--- /dev/null
+++ b/drivers/darmok/Kconfig
@@ -0,0 +1,25 @@
+menuconfig DARMOK_CORE
+	tristate "DARMOK driver protocol stack"
+	default m 
+	help
+	  Say Y to enable the customized DResearch DARMOK
+	  driver set which allows communication with the 
+	  onboard microcontroller
+
+if DARMOK_CORE
+
+config DARMOK_RTC
+	tristate "RTC dev node communicating with BCTRL"
+	depends on DARMOK_CORE
+	help
+	  Driver for communication with Hardware RTC connected 
+	  to the DARMOK board controller over a serial interface
+
+config DARMOK_RAW
+	tristate "Legacy interface between the drbcc cmd line tool and BCTRL"
+	depends on DARMOK_CORE
+	help
+	  Legacy driver as an interface between the old command line drbcc tool and 
+	  the serial conntect microcontroller
+
+endif # DARMOK_CORE
-- 
1.7.9.5

